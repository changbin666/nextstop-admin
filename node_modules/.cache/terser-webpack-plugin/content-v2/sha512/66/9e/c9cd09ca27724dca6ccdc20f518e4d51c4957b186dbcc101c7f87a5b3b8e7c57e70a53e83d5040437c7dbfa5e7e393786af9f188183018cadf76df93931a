{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"table\"],{\"04b7\":function(e,t,a){\"use strict\";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"div\",{staticClass:\"container\"},[a(\"div\",{staticClass:\"handle-box\"},[a(\"el-input\",{staticClass:\"handle-input mr10\",attrs:{placeholder:\"客户昵称或邮箱\"},model:{value:e.query.name,callback:function(t){e.$set(e.query,\"name\",t)},expression:\"query.name\"}}),a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:e.handleSearch}},[e._v(\"搜索\")]),a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:e.handleAdd}},[e._v(\"新增\")])],1),a(\"el-table\",{ref:\"multipleTable\",staticClass:\"table\",attrs:{data:e.tableData,border:\"\",\"header-cell-class-name\":\"table-header\"},on:{\"selection-change\":e.handleSelectionChange}},[a(\"el-table-column\",{attrs:{label:\"序号\",width:\"50px\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\"\\n                    \"+e._s((e.query.pageIndex-1)*e.query.pageSize+t.$index+1)+\"\\n                \")]}}])}),e.show?a(\"el-table-column\",{attrs:{prop:\"id\",label:\"ID\",width:\"55\"}}):e._e(),a(\"el-table-column\",{attrs:{prop:\"nickName\",label:\"客户昵称\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"userEmail\",label:\"登录邮箱\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"userPhone\",label:\"手机号\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"userWechat\",label:\"微信\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"registerTime\",label:\"注册时间\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:\"VIP支付截图\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-image\",{staticClass:\"table-td-thumb\",attrs:{src:t.row.payRecordPath,\"preview-src-list\":[t.row.payRecordPath]}},[a(\"div\",{staticClass:\"image-slot\",attrs:{slot:\"placeholder\"},slot:\"placeholder\"},[a(\"i\",{staticClass:\"el-icon-loading\"}),e._v(\"加载中\\n                    \")]),a(\"div\",{staticClass:\"image-slot\",attrs:{slot:\"error\"},slot:\"error\"},[a(\"i\",{staticClass:\"el-icon-picture-outline\"})])])]}}])}),a(\"el-table-column\",{attrs:{prop:\"isVip\",label:\"是否VIP\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":0},on:{change:function(a){return e.changeVipStatus(a,t.row,t.$index)}},model:{value:t.row.isVip,callback:function(a){e.$set(t.row,\"isVip\",a)},expression:\"scope.row.isVip\"}})]}}])}),a(\"el-table-column\",{attrs:{prop:\"delStatus\",label:\"启用/停用\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-switch\",{attrs:{\"active-value\":0,\"inactive-value\":1},on:{change:function(a){return e.changeDelStatus(a,t.row,t.$index)}},model:{value:t.row.delStatus,callback:function(a){e.$set(t.row,\"delStatus\",a)},expression:\"scope.row.delStatus\"}})]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\",icon:\"el-icon-edit\"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(\"编辑\")])]}}])})],1),a(\"div\",{staticClass:\"pagination\"},[a(\"el-pagination\",{attrs:{background:\"\",layout:\"total, prev, pager, next\",\"current-page\":e.query.pageIndex,\"page-size\":e.query.pageSize,total:e.pageTotal},on:{\"current-change\":e.handlePageChange}})],1)],1),a(\"el-dialog\",{attrs:{title:\"新增\",visible:e.addVisible,width:\"40%\"},on:{\"update:visible\":function(t){e.addVisible=t}}},[a(\"el-form\",{ref:\"addForm\",attrs:{model:e.addForm,\"label-width\":\"90px\"}},[a(\"el-form-item\",{attrs:{label:\"客户昵称\"}},[a(\"el-input\",{model:{value:e.addForm.nickName,callback:function(t){e.$set(e.addForm,\"nickName\",t)},expression:\"addForm.nickName\"}})],1),a(\"el-form-item\",{attrs:{label:\"登录邮箱\"}},[a(\"el-input\",{model:{value:e.addForm.userEmail,callback:function(t){e.$set(e.addForm,\"userEmail\",t)},expression:\"addForm.userEmail\"}})],1),a(\"el-form-item\",{attrs:{label:\"客户手机号\"}},[a(\"el-input\",{model:{value:e.addForm.userPhone,callback:function(t){e.$set(e.addForm,\"userPhone\",t)},expression:\"addForm.userPhone\"}})],1),a(\"el-form-item\",{attrs:{label:\"客户微信号\"}},[a(\"el-input\",{model:{value:e.addForm.userWechat,callback:function(t){e.$set(e.addForm,\"userWechat\",t)},expression:\"addForm.userWechat\"}})],1),a(\"el-form-item\",{attrs:{label:\"初始化密码\"}},[a(\"el-input\",{model:{value:e.addForm.userPassword,callback:function(t){e.$set(e.addForm,\"userPassword\",t)},expression:\"addForm.userPassword\"}})],1)],1),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.addVisible=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.saveClientUser}},[e._v(\"确 定\")])],1)],1),a(\"el-dialog\",{attrs:{title:\"编辑\",visible:e.editVisible,width:\"40%\"},on:{\"update:visible\":function(t){e.editVisible=t}}},[a(\"el-form\",{ref:\"editForm\",attrs:{model:e.editForm,\"label-width\":\"90px\"}},[a(\"el-input\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],model:{value:e.editForm.id,callback:function(t){e.$set(e.editForm,\"id\",t)},expression:\"editForm.id\"}}),a(\"el-form-item\",{attrs:{label:\"客户昵称\"}},[a(\"el-input\",{model:{value:e.editForm.nickName,callback:function(t){e.$set(e.editForm,\"nickName\",t)},expression:\"editForm.nickName\"}})],1),a(\"el-form-item\",{attrs:{label:\"登录邮箱\"}},[a(\"el-input\",{model:{value:e.editForm.userEmail,callback:function(t){e.$set(e.editForm,\"userEmail\",t)},expression:\"editForm.userEmail\"}})],1),a(\"el-form-item\",{attrs:{label:\"客户手机号\"}},[a(\"el-input\",{model:{value:e.editForm.userPhone,callback:function(t){e.$set(e.editForm,\"userPhone\",t)},expression:\"editForm.userPhone\"}})],1),a(\"el-form-item\",{attrs:{label:\"客户微信号\"}},[a(\"el-input\",{model:{value:e.editForm.userWechat,callback:function(t){e.$set(e.editForm,\"userWechat\",t)},expression:\"editForm.userWechat\"}})],1)],1),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.editVisible=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.saveEdit}},[e._v(\"确 定\")])],1)],1)],1)},l=[],s=(a(\"7f7f\"),a(\"b775\")),n={name:\"basetable\",data:function(){return{query:{name:\"\",pageIndex:1,pageSize:10},tableData:[],multipleSelection:[],delList:[],addVisible:!1,editVisible:!1,pageTotal:0,editForm:{},addForm:{},show:!1,idx:-1,id:-1}},created:function(){this.clientUserList()},methods:{changeDelStatus:function(e,t,a){var i=this;this.$confirm(\"确定要启用或停用此用户吗？\",\"提示\",{type:\"warning\"}).then((function(){var e=new URLSearchParams;e.append(\"id\",t.id),e.append(\"delStatus\",t.delStatus),i.listLoading=!0,Object(s[\"a\"])(e).then((function(e){var t=e.message,a=e.status;e.datas;0!==a?i.$message({message:t,type:\"error\"}):i.clientUserList()}))})).catch((function(){}))},changeVipStatus:function(e,t,a){var i=this,l=new URLSearchParams;l.append(\"id\",t.id),l.append(\"isVip\",t.isVip),this.listLoading=!0,Object(s[\"b\"])(l).then((function(e){var t=e.message,a=e.status;e.datas;0!==a?i.$message({message:t,type:\"error\"}):i.clientUserList()}))},clientUserList:function(){var e=this,t=new URLSearchParams;t.append(\"paramStr\",this.query.name),t.append(\"pageIndex\",this.query.pageIndex),t.append(\"pageSize\",10),this.listLoading=!0,Object(s[\"c\"])(t).then((function(t){var a=t.message,i=t.status,l=t.datas;0!==i?e.$message({message:a,type:\"error\"}):(e.pageTotal=l.total,e.tableData=l.list,e.listLoading=!1)}))},handleSearch:function(){this.$set(this.query,\"pageIndex\",1),this.clientUserList()},handleSelectionChange:function(e){this.multipleSelection=e},handleAdd:function(){this.addVisible=!0},saveClientUser:function(){var e=this;this.addVisible=!1,Object(s[\"e\"])(this.addForm).then((function(t){var a=t.message,i=t.status;t.datas;0!==i?e.$message({message:a,type:\"error\"}):e.clientUserList()}))},handleEdit:function(e,t){this.idx=e,this.editForm=t,this.editVisible=!0},saveEdit:function(){var e=this;this.editVisible=!1,Object(s[\"f\"])(this.editForm).then((function(t){var a=t.message,i=t.status;t.datas;0!==i?e.$message({message:a,type:\"error\"}):e.clientUserList()}))},handlePageChange:function(e){this.$set(this.query,\"pageIndex\",e),this.clientUserList()}}},r=n,o=(a(\"50dc\"),a(\"2877\")),c=Object(o[\"a\"])(r,i,l,!1,null,\"2322a832\",null);t[\"default\"]=c.exports},\"50dc\":function(e,t,a){\"use strict\";a(\"6486\")},6486:function(e,t,a){}}]);","extractedComments":[]}