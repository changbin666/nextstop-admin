{"remainingRequest":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/thread-loader/dist/cjs.js!/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/babel-loader/lib/index.js!/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/changbin/Documents/workspace/nextstop/nextstop-admin/src/components/page/ClientUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/src/components/page/ClientUser.vue","mtime":1637833369276},{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/cache-loader/dist/cjs.js","mtime":1637819675662},{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/thread-loader/dist/cjs.js","mtime":1637819675442},{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/babel-loader/lib/index.js","mtime":1637819675721},{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/cache-loader/dist/cjs.js","mtime":1637819675662},{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/vue-loader/lib/index.js","mtime":1637819675815}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { clientUserList as _clientUserList, saveClientUser as _saveClientUser, updateClientUser, changeUserDelStatus, changeUserVipStatus } from \"../../utils/request\";\nexport default {\n  name: 'basetable',\n  data: function data() {\n    return {\n      query: {\n        name: '',\n        pageIndex: 1,\n        pageSize: 10\n      },\n      tableData: [],\n      multipleSelection: [],\n      delList: [],\n      addVisible: false,\n      editVisible: false,\n      pageTotal: 0,\n      editForm: {},\n      addForm: {},\n      show: false,\n      idx: -1,\n      id: -1\n    };\n  },\n  created: function created() {\n    this.clientUserList();\n  },\n  methods: {\n    //停用启用状态变更\n    changeDelStatus: function changeDelStatus(event, row, index) {\n      var _this = this;\n\n      // 二次确认\n      this.$confirm('确定要启用或停用此用户吗？', '提示', {\n        type: 'warning'\n      }).then(function () {\n        var param = new URLSearchParams();\n        param.append(\"id\", row.id);\n        param.append(\"delStatus\", row.delStatus);\n        _this.listLoading = true; //NProgress.start();\n\n        changeUserDelStatus(param).then(function (res) {\n          var message = res.message,\n              status = res.status,\n              datas = res.datas;\n\n          if (status !== 0) {\n            _this.$message({\n              message: message,\n              type: 'error'\n            });\n          } else {\n            _this.clientUserList();\n          }\n        });\n      }).catch(function () {});\n    },\n    changeVipStatus: function changeVipStatus(event, row, index) {\n      var _this2 = this;\n\n      var param = new URLSearchParams();\n      param.append(\"id\", row.id);\n      param.append(\"isVip\", row.isVip);\n      this.listLoading = true; //NProgress.start();\n\n      changeUserVipStatus(param).then(function (res) {\n        var message = res.message,\n            status = res.status,\n            datas = res.datas;\n\n        if (status !== 0) {\n          _this2.$message({\n            message: message,\n            type: 'error'\n          });\n        } else {\n          _this2.clientUserList();\n        }\n      });\n    },\n    //获取用户列表\n    clientUserList: function clientUserList() {\n      var _this3 = this;\n\n      var param = new URLSearchParams();\n      param.append(\"paramStr\", this.query.name);\n      param.append(\"pageIndex\", this.query.pageIndex);\n      param.append(\"pageSize\", 10);\n      this.listLoading = true; //NProgress.start();\n\n      _clientUserList(param).then(function (res) {\n        var message = res.message,\n            status = res.status,\n            datas = res.datas;\n\n        if (status !== 0) {\n          _this3.$message({\n            message: message,\n            type: 'error'\n          });\n        } else {\n          _this3.pageTotal = datas.total;\n          _this3.tableData = datas.list;\n          _this3.listLoading = false;\n        } //NProgress.done();\n\n      });\n    },\n    // 触发搜索按钮\n    handleSearch: function handleSearch() {\n      this.$set(this.query, 'pageIndex', 1);\n      this.clientUserList();\n    },\n    // 多选操作\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    //打开新增窗口\n    handleAdd: function handleAdd() {\n      this.addVisible = true;\n    },\n    // 保存新增\n    saveClientUser: function saveClientUser() {\n      var _this4 = this;\n\n      this.addVisible = false; //NProgress.start();\n\n      _saveClientUser(this.addForm).then(function (res) {\n        var message = res.message,\n            status = res.status,\n            datas = res.datas;\n\n        if (status !== 0) {\n          _this4.$message({\n            message: message,\n            type: 'error'\n          });\n        } else {\n          _this4.clientUserList();\n        } //NProgress.done();\n\n      });\n    },\n    // 编辑操作\n    handleEdit: function handleEdit(index, row) {\n      this.idx = index;\n      this.editForm = row;\n      this.editVisible = true;\n    },\n    // 保存编辑\n    saveEdit: function saveEdit() {\n      var _this5 = this;\n\n      this.editVisible = false; //NProgress.start();\n\n      updateClientUser(this.editForm).then(function (res) {\n        var message = res.message,\n            status = res.status,\n            datas = res.datas;\n\n        if (status !== 0) {\n          _this5.$message({\n            message: message,\n            type: 'error'\n          });\n        } else {\n          _this5.clientUserList();\n        } //NProgress.done();\n\n      });\n    },\n    // 分页导航\n    handlePageChange: function handlePageChange(val) {\n      this.$set(this.query, 'pageIndex', val);\n      this.clientUserList();\n    }\n  }\n};",null]}