{"remainingRequest":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/thread-loader/dist/cjs.js!/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/babel-loader/lib/index.js!/Users/changbin/Documents/workspace/nextstop/nextstop-admin/src/utils/request.js","dependencies":[{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/src/utils/request.js","mtime":1637820223228},{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/cache-loader/dist/cjs.js","mtime":1637819675662},{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/thread-loader/dist/cjs.js","mtime":1637819675442},{"path":"/Users/changbin/Documents/workspace/nextstop/nextstop-admin/node_modules/babel-loader/lib/index.js","mtime":1637819675721}],"contextDependencies":[],"result":["import axios from 'axios';\nimport qs from 'qs';\n\naxios.defaults.validateStatus = function (status) {\n  return status < 500;\n}; // 设置请求token\n\n\naxios.interceptors.request.use(function (config) {\n  var token = sessionStorage.getItem('access_token');\n  config.headers['Authorization'] = 'Bearer ' + token;\n  return config;\n}); // 接口错误拦截\n\naxios.interceptors.response.use(function (res) {\n  if (res.status === 401) {\n    sessionStorage.removeItem('access_token');\n    sessionStorage.removeItem('token_type');\n    sessionStorage.removeItem('refresh_token');\n    sessionStorage.removeItem('expires_in');\n    sessionStorage.removeItem('user_id');\n    sessionStorage.removeItem('user_name');\n    sessionStorage.removeItem('real_name');\n    sessionStorage.removeItem('user_email'); // console.log({'router': router});\n\n    router.push({\n      path: '/login'\n    });\n    return res;\n  } else {\n    return res;\n  }\n}, function (err) {\n  return Promise.reject(err);\n});\naxios.defaults.baseURL = 'http://localhost:8080';\naxios.defaults.timeout = 1000 * 30;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=utf-8';\naxios.defaults.headers.get['Content-Type'] = 'application/json'; //公共登陆部分\n\nexport var requestToken = function requestToken(params) {\n  return axios.post('/oauth/token', params).then(function (res) {\n    return res.data;\n  });\n}; //客户列表\n\nexport var clientUserList = function clientUserList(params) {\n  return axios.post('/ns/admin/client/clientUserList', params).then(function (res) {\n    return res.data;\n  });\n}; //新增客户\n\nexport var saveClientUser = function saveClientUser(params) {\n  return axios.post('/ns/admin/client/saveClientUser', qs.stringify(params)).then(function (res) {\n    return res.data;\n  });\n}; //更新客户\n\nexport var updateClientUser = function updateClientUser(params) {\n  return axios.post('/ns/admin/client/updateClientUser', qs.stringify(params)).then(function (res) {\n    return res.data;\n  });\n}; //更改客户停用状态\n\nexport var changeUserDelStatus = function changeUserDelStatus(params) {\n  return axios.post('/ns/admin/client/changeDelStatus', params).then(function (res) {\n    return res.data;\n  });\n}; //更改客户VIP状态\n\nexport var changeUserVipStatus = function changeUserVipStatus(params) {\n  return axios.post('/ns/admin/client/changeVipStatus', params).then(function (res) {\n    return res.data;\n  });\n};",null]}